{% extends 'base.html' %}
{% load static %}

{% block title %}Contact{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'apploan/css/contact.css' %}">
{% endblock %}

{% block content %}

<!-- Hero Section -->
<section class="hero-contact text-white text-center">
  <div class="container py-5">
    <h1 class="display-4 fw-bold">Contact Us</h1>
    <p class="lead">We are here to help you with your car and motorcycle financing and insurance needs.</p>
    <a href="#contact" class="hero-btn">Send Us a Message</a>
  </div>
</section>

<!-- Cards Section -->
<section class="container my-5">
  <div class="row g-4">

    <!-- Logo + Newsletter + Icons -->
<div class="col-md-4">
  <div class="card shadow-sm h-100 text-center p-4 newsletter-card">

    <!-- Logo -->
    <img src="{% static 'apploan/images/sgvlogo.png' %}" 
         class="card-img-top mx-auto my-3" 
         style="width:150px;" 
         alt="SGVehicleLoans Logo">

    <div class="card-body">

      <h5 class="card-title fw-bold">Get Exclusive Insights, Offers, and Updates Straight to Your Inbox</h5>
      <p class="card-text">Subscribe now and stay connected with the latest financing options, insurance opportunities, COE updates
         and expert recommendations tailored for drivers and riders in Singapore.</p>

      <!-- Newsletter Form -->
      <form class="d-flex flex-column mb-4">
        <input type="email" class="form-control mb-2" placeholder="Enter your email" required>
        <button class="btn btn-primary">Subscribe</button>
      </form>

      <h6 class="connect-title text-center fw-bold mt-5 mb-3">Connect With Us Now</h6>

      <!-- Contact Icons -->
      <div class="icon-row mt-3 mb-3">
        <a href="tel:+6564444400" class="icon-bubble"><i class="fa-solid fa-phone"></i></a>
        <a href="mailto:loan@sgvehicleloans.com.sg" class="icon-bubble"><i class="fa-solid fa-envelope"></i></a>
        <a href="#" class="icon-bubble" target="_blank"><i class="fa-solid fa-location-dot"></i></a>

      </div>

      <!-- Social Icons -->
      <div class="icon-row mt-3">
        <a href="{{ footer.facebook_url }}" class="icon-bubble"><i class="fa-brands fa-facebook"></i></a>
        <a href="{{ footer.instagram_url }}" class="icon-bubble"><i class="fa-brands fa-instagram"></i></a>
        <a href="{{ footer.tiktok_url }}" class="icon-bubble"><i class="fa-brands fa-tiktok"></i></a>
        <a href="{{ footer.telegram_url }}" class="icon-bubble"><i class="fa-brands fa-telegram"></i></a>
        <a href="https://m.me/sgvehicleloans.com.sg" class="icon-bubble" target="_blank"><i class="fa-brands fa-facebook-messenger"></i></a>
      </div>

    </div>
  </div>
</div>

    <!-- Contact Form Card -->
    <div class="col-md-8">
      <div class="card shadow-sm h-100 p-4">
        <h4 class="mb-3">Send Us a Message</h4>
        <p class="mb-4">Let us know how we can help you and we will contact you within 1-2 business days.</p>
        <form method="POST" enctype="multipart/form-data">
          {% csrf_token %}
          <input type="hidden" name="next" value="{{ request.path }}">

          <div class="row g-3 mb-3">
            <div class="col-md-6">
              <label class="form-label">First Name *</label>
              {{ form.first_name }}
            </div>
            <div class="col-md-6">
              <label class="form-label">Last Name *</label>
              {{ form.last_name }}
            </div>
          </div>

          <div class="row g-3 mb-3">
            <div class="col-md-6">
              <label class="form-label">Mobile Number *</label>
               {{ form.phone }}
            </div>
            <div class="col-md-6">
              <label class="form-label">Email Address *</label>
              {{ form.email }}
            </div>
          </div>

          <div class="mb-3">
            <label class="form-label">Enquiry Type *</label>
            {{ form.enquiry_type }}
          </div>

          <div class="mb-3">
            <label class="form-label">Message</label>
            {{ form.message }}
          </div>

          <div class="mb-3 form-check">
            {{ form.privacy_policy }}
            <label class="form-check-label">
              I agree to the Privacy Policy and receive communication from SGVehicleLoans.
            </label>
          </div>

          <div class="mb-3">
            <label class="form-label">CAPTCHA *</label>
            {{ form.captcha_answer }}
            {% if form.captcha_answer.errors %}
              <div class="text-danger">{{ form.captcha_answer.errors.0 }}</div>
            {% endif %}
          </div>

          <button type="submit" class="btn btn-primary">Submit</button>
        </form>
      </div>
    </div>

  </div>
</section>

<!-- Contact Details Card -->
<section class="container my-5">
    <h2 class="text-center mb-4 fw-bold">Get in Touch</h2>

    <div class="row g-4">

        <!-- EMAIL & SOCIAL -->
        <div class="col-md-4">
            <div class="contact-card-1 p-4 h-100 text-center">
                <div class="icon-box mb-3">
                    <i class="fa-solid fa-envelope"></i>
                </div>
                <h5 class="fw-bold mb-3">Email & Social</h5>

                <p class="mb-1 fw-semibold">Email:</p>
                <a href="mailto:loan@sgvehicleloans.com.sg" class="link">loan@sgvehicleloans.com.sg</a>

                <p class="mt-3 mb-1 fw-semibold">Facebook:</p>
                <a href="{{ footer.facebook_url }}" class="link">Link</a>

                <p class="mt-3 mb-1 fw-semibold">Tiktok:</p>
                <a href="{{ footer.tiktok_url }}" class="link">Link</a>
            </div>
        </div>

        <!-- CONTACT NUMBERS -->
        <div class="col-md-4">
            <div class="contact-card-1 p-4 h-100 text-center">
                <div class="icon-box mb-3">
                    <i class="fa-solid fa-phone"></i>
                </div>
                <h5 class="fw-bold mb-3">Contact Numbers</h5>

                <p class="mb-1"><strong>Hotline:</strong> {{ footer.hotline }}</p>
                <p class="mb-1"><strong>Office:</strong> {{ footer.office }}</p>
                <p class="mb-1"><strong>Fax:</strong> {{ footer.fax }}</p>

                <p class="mt-3 mb-1 fw-semibold">Messenger:</p>
                <a href="https://m.me/sgvehicleloans.com.sg" class="link" target="_blank">Click here</a>

                <p class="mt-3 mb-1 fw-semibold">Whatsapp:</p>
                <a href="{{ footer.whatsapp_url }}" class="link" target="_blank">Click here</a>
            </div>
        </div>

        <!-- LOCATION -->
        <div class="col-md-4">
            <div class="contact-card-1 p-4 h-100 text-center">
                <div class="icon-box mb-3">
                    <i class="fa-solid fa-location-dot"></i>
                </div>
                <h5 class="fw-bold mb-3">Location</h5>

                <p class="mb-2">
                    {{ footer.address|linebreaksbr }}
                </p>

                <p class="fw-semibold mt-3 mb-1">Operating Hours:</p>
                <p class="mb-0">{{ footer.op_hours_weekdays }}</p>
                <p>{{ footer.op_hours_sat }}</p>
            </div>
        </div>

    </div>
</section>

<!-- Map Card -->
<section class="container my-5">
  <div class="card shadow-sm rounded"> 
    <div class="map-wrapper">
      <iframe src="{{ footer.google_map_embed }}" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
    </div>
  </div>
</section>


<!-- Success Modal -->
<div class="modal fade" id="successModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content text-center p-4">
      <div class="modal-body">
        <svg xmlns="http://www.w3.org/2000/svg" width="72" height="72" fill="green" class="bi bi-check-circle mb-3" viewBox="0 0 16 16">
          <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM6.97 11.03a.75.75 0 0 0 1.08 0l3.992-3.992a.75.75 0 1 0-1.08-1.08L7.5 9.44 5.53 7.47a.75.75 0 1 0-1.06 1.06l2.5 2.5z"/>
        </svg>
        <h5 id="modalMessage"></h5>
        <button type="button" class="btn btn-success mt-3" data-bs-dismiss="modal">OK!</button>
      </div>
    </div>
  </div>
</div>

<script>
document.addEventListener("DOMContentLoaded", function() {
    {% if messages %}
        const message = `{% for m in messages %}{{ m|escapejs }}{% endfor %}`;
        document.getElementById("modalMessage").innerText = message;

        const successModal = new bootstrap.Modal(document.getElementById('successModal'));
        successModal.show();
    {% endif %}
});
</script>


{% endblock %}