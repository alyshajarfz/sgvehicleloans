<div class="modal fade" id="successModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content text-center p-4">
      <div class="modal-body">
        <svg xmlns="http://www.w3.org/2000/svg" width="72" height="72" fill="green" class="bi bi-check-circle mb-3" viewBox="0 0 16 16">
          <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM6.97 11.03a.75.75 0 0 0 1.08 0l3.992-3.992a.75.75 0 1 0-1.08-1.08L7.5 9.44 5.53 7.47a.75.75 0 1 0-1.06 1.06l2.5 2.5z"/>
        </svg>
        <h5 id="modalMessage">Form submitted successfully!</h5>
        <button type="button" class="btn btn-success mt-3" id="modalOkBtn">OK!</button>
      </div>
    </div>
  </div>
</div>

<style>
  #successModal h5 {
    color: #000000ff !important;
  }
</style>

<script>
document.addEventListener("DOMContentLoaded", function () {
    {% if submitted %}
        const modalEl = document.getElementById("successModal");

        if (modalEl) {
            const modal = new bootstrap.Modal(modalEl);
            modal.show();

            const url = new URL(window.location.href);
            url.searchParams.delete("submitted");
            window.history.replaceState({}, document.title, url.pathname + url.search);

            const okBtn = modalEl.querySelector("#modalOkBtn");
            if (okBtn) {
                okBtn.addEventListener("click", function () {
                    modal.hide();
                });
            }
        }
    {% endif %}
});
</script>
